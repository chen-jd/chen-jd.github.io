<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="##ä¸€.ç­–ç•¥æ¨¡å¼ä¾‹å­ï¼šæ¨¡æ‹Ÿé¸­å­ğŸ¦†12345class Duck&amp;#123;    Quack()    Swim()    Abstract Display()&amp;#125; å½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶æƒ³è¦ä¸ªåˆ«åŠŸèƒ½ ####1. æ–¹æ¡ˆä¸€ï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¼šè®©æ‰€æœ‰å­ç±»éƒ½å…·æœ‰æ–¹æ³•ã€‚ ####2. æ–¹æ¡ˆäºŒï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¸å…·å¤‡æ–¹æ³•çš„å­ç±»è¦†ç›–å¯¹åº”æ–¹æ³•ï¼Œä»€ä¹ˆäº‹éƒ½ä¸åšï¼Œå¾ˆéš¾çŸ¥é“å­ç±»çš„è¡Œä¸ºï¼Œä»£ç ">
<meta property="og:type" content="article">
<meta property="og:title" content="è®¾è®¡æ¨¡å¼">
<meta property="og:url" content="http://yoursite.com/uncategorized/è®¾è®¡æ¨¡å¼">
<meta property="og:site_name" content="ä¸ªäººåšå®¢">
<meta property="og:description" content="##ä¸€.ç­–ç•¥æ¨¡å¼ä¾‹å­ï¼šæ¨¡æ‹Ÿé¸­å­ğŸ¦†12345class Duck&amp;#123;    Quack()    Swim()    Abstract Display()&amp;#125; å½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶æƒ³è¦ä¸ªåˆ«åŠŸèƒ½ ####1. æ–¹æ¡ˆä¸€ï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¼šè®©æ‰€æœ‰å­ç±»éƒ½å…·æœ‰æ–¹æ³•ã€‚ ####2. æ–¹æ¡ˆäºŒï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¸å…·å¤‡æ–¹æ³•çš„å­ç±»è¦†ç›–å¯¹åº”æ–¹æ³•ï¼Œä»€ä¹ˆäº‹éƒ½ä¸åšï¼Œå¾ˆéš¾çŸ¥é“å­ç±»çš„è¡Œä¸ºï¼Œä»£ç ">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-05-28T09:56:46.489Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è®¾è®¡æ¨¡å¼">
<meta name="twitter:description" content="##ä¸€.ç­–ç•¥æ¨¡å¼ä¾‹å­ï¼šæ¨¡æ‹Ÿé¸­å­ğŸ¦†12345class Duck&amp;#123;    Quack()    Swim()    Abstract Display()&amp;#125; å½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶æƒ³è¦ä¸ªåˆ«åŠŸèƒ½ ####1. æ–¹æ¡ˆä¸€ï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¼šè®©æ‰€æœ‰å­ç±»éƒ½å…·æœ‰æ–¹æ³•ã€‚ ####2. æ–¹æ¡ˆäºŒï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¸å…·å¤‡æ–¹æ³•çš„å­ç±»è¦†ç›–å¯¹åº”æ–¹æ³•ï¼Œä»€ä¹ˆäº‹éƒ½ä¸åšï¼Œå¾ˆéš¾çŸ¥é“å­ç±»çš„è¡Œä¸ºï¼Œä»£ç ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/uncategorized/è®¾è®¡æ¨¡å¼">





  <title>è®¾è®¡æ¨¡å¼ | ä¸ªäººåšå®¢</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä¸ªäººåšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/uncategorized/è®¾è®¡æ¨¡å¼">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-jd">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººåšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">è®¾è®¡æ¨¡å¼</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-28T17:56:10+08:00">
                2018-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>##ä¸€.ç­–ç•¥æ¨¡å¼<br>ä¾‹å­ï¼šæ¨¡æ‹Ÿé¸­å­ğŸ¦†<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    Quack()</span><br><span class="line">    Swim()</span><br><span class="line">    <span class="function">Abstract <span class="title">Display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>å½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶æƒ³è¦ä¸ªåˆ«åŠŸèƒ½</p>
<p>####1. <del>æ–¹æ¡ˆä¸€ï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¼šè®©æ‰€æœ‰å­ç±»éƒ½å…·æœ‰æ–¹æ³•ã€‚</del></p>
<p>####2. <del>æ–¹æ¡ˆäºŒï¼šç›´æ¥åœ¨Duckçˆ¶ç±»åŠ å…¥æ–¹æ³•ï¼Œä¸å…·å¤‡æ–¹æ³•çš„å­ç±»è¦†ç›–å¯¹åº”æ–¹æ³•ï¼Œä»€ä¹ˆäº‹éƒ½ä¸åšï¼Œå¾ˆéš¾çŸ¥é“å­ç±»çš„è¡Œä¸ºï¼Œä»£ç é‡å¤ï¼Œç‰µä¸€å‘åŠ¨å…¨èº«</del></p>
<p>####3. <del>æ–¹æ¡ˆä¸‰ï¼šåˆ©ç”¨æ¥å£ï¼Œå®šä¹‰æ–¹æ³•æ¥å£ï¼Œéœ€è¦çš„å­ç±»å®ç°æ¥å£ï¼Œé‡å¤ä»£ç å˜å¤šï¼Œæ¯ä¸ªå­ç±»çš„æ–¹æ³•éƒ½éœ€è¦é‡å¤å®ç°ã€‚</del></p>
<p>####4. æ–¹æ¡ˆå››ï¼šç­–ç•¥æ¨¡å¼</p>
<blockquote>
<p>è®¾è®¡åŸåˆ™ï¼š</p>
<ol>
<li><strong>é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚</strong></li>
<li><strong>æŠŠåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–çš„åœ°æ–¹ç‹¬ç«‹å‡ºæ¥</strong>ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;<span class="class"><span class="keyword">interface</span>&gt;&gt; <span class="title">FlyBehavior</span></span></span><br><span class="line"><span class="class">    <span class="title">Fly</span>()</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FlyWithWings implement FlyBehavior</span><br><span class="line">    Fly()&#123;</span><br><span class="line">        <span class="comment">//å®ç°é£è¡ŒåŠ¨ä½œ</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FlyNoWay implement FlyBehavior</span><br><span class="line">    Fly()&#123;</span><br><span class="line">        <span class="comment">//ä»€ä¹ˆéƒ½ä¸åš</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·åšï¼Œå¯¹åº”çš„æ–¹æ³•å°±å¯ä»¥è¢«å…¶ä»–ç±»å¤ç”¨ã€‚<br>å¢åŠ å…·ä½“å®ç°ä¹Ÿåªéœ€ç»§æ‰¿æ¥å£ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Class Duck</span><br><span class="line">    FlyBehavior flyBehavio</span><br><span class="line">    QuackBehavior quackBehavior</span><br><span class="line">    </span><br><span class="line">    PerformQuac()&#123;</span><br><span class="line">        flyBehavior.fly();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿˜æœ‰æ›´å¤š</span></span><br></pre></td></tr></table></figure></p>
<pre><code>å­ç±»ï¼š
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Class mallardDuck extends Duck&#123;</span><br><span class="line">   <span class="function">Public <span class="title">MallardDuck</span><span class="params">()</span></span>&#123;</span><br><span class="line">       quackBehavior = <span class="keyword">new</span> Quack();</span><br><span class="line">       flyBehavior = <span class="keyword">new</span> FlyWithWings();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>å†åœ¨çˆ¶ç±»ä¸­åŠ å…¥è®¾ç½®æ¥å£çš„setteræ–¹æ³•ï¼Œå¯ä»¥ä½¿è¡Œä¸ºæ–¹æ³•åŠ¨æ€æ”¹å˜ã€‚
Duckç±»ä¸­
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Public <span class="keyword">void</span> <span class="title">setFlyBehavior</span><span class="params">(FlyBehavior fb)</span></span>&#123;</span><br><span class="line">    FlyBehavior = fb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è®¾è®¡åŸåˆ™ï¼š<br><strong>è½¬åŒ–æ€è·¯ï¼Œå¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼Œâ€æœ‰ä¸€ä¸ªâ€å¯èƒ½æ¯”â€æ˜¯ä¸€ä¸ªâ€æ›´å¥½</strong></p>
</blockquote>
<p>ä¾‹å­ä¸­ï¼Œä»ç»§æ‰¿Duckç±»çš„é£è¡Œã€å«å£°æ–¹æ³•ï¼Œè½¬å˜æˆé¸­å­æœ‰é£è¡Œã€å«å£°æ–¹æ³•ã€‚</p>
<hr>
<h2 id="äºŒ-è§‚å¯Ÿè€…æ¨¡å¼"><a href="#äºŒ-è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="äºŒ.è§‚å¯Ÿè€…æ¨¡å¼"></a>äºŒ.è§‚å¯Ÿè€…æ¨¡å¼</h2><p><strong>è§‚å¯Ÿè€…æ¨¡å¼ï¼šå®šä¹‰äº†å¯¹è±¡ä¹‹é—´ä¸€å¯¹å¤šä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜çŠ¶æ€æ—¶ï¼Œå®ƒçš„æ‰€æœ‰ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°</strong><br>ä¾‹å­ï¼šæ°”è±¡ç›‘æµ‹åº”ç”¨<br>    <code>WebtherDataå¯¹è±¡ï¼ˆsubjectï¼Œä¸»é¢˜å¯¹è±¡ï¼Œæ›´æ–°æ•°æ®é€šçŸ¥è§‚å¯Ÿè€…ï¼‰</code><br>    <code>å¸ƒå‘Šæ¿å¯¹è±¡ï¼ˆobjectï¼Œè§‚å¯Ÿè€…å¯¹è±¡ï¼Œæ¥æ”¶é€šçŸ¥å¯¹è±¡ï¼‰</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Class WeatherDate&#123;</span><br><span class="line">    GetTemperature()<span class="comment">//è·å–æ¸©åº¦</span></span><br><span class="line">    GetHumidity()<span class="comment">//è·å–æ¹¿åº¦</span></span><br><span class="line">    GetPressure()<span class="comment">//è·å–æ°”å‹</span></span><br><span class="line">    MeasurementsChanged()<span class="comment">//æµ‹é‡æ•°æ®æ›´æ–°æ—¶ï¼Œæ­¤æ–¹æ³•ä¼šè°ƒç”¨</span></span><br><span class="line">    <span class="comment">//å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####1. <del>æ–¹æ¡ˆä¸€ï¼šåœ¨measuremntsChangedæ–¹æ³•ä¸­ç›´æ¥è°ƒç”¨è®¢é˜…å¯¹è±¡ï¼ˆå¸ƒå‘Šæ¿ï¼‰çš„update()æ–¹æ³•ï¼Œå¹¶ä¼ å€¼ã€‚</del>ä¾‹å¦‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Public <span class="keyword">void</span> <span class="title">measurementsChanged</span><span class="params">()</span></span>&#123;</span><br><span class="line">    CurrentConditionsDisplay.update(temp,humidity,pressure);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¼ºé™·ï¼š</p>
<ol>
<li>è¿™ä¸ªå®ç°é’ˆå¯¹å…·ä½“å®ç°ç¼–ç¨‹ï¼Œè€Œéé’ˆå¯¹æ¥å£ç¼–ç¨‹ã€‚</li>
<li>å¯¹åº”æ¯ä¸ªæ–°objectï¼Œéƒ½å¾—ä¿®æ”¹subjectä»£ç ã€‚</li>
<li>æ— æ³•åŠ¨æ€å¢åŠ /åˆ é™¤objectã€‚</li>
<li>å°šæœªå°è£…æ”¹ç‰ˆçš„éƒ¨åˆ†ã€‚</li>
</ol>
<p>####æ­£ç¡®æ–¹å¼ï¼š<br>è§‚å¯Ÿè€…æ¨¡å¼çš„æ–¹æ¡ˆä¸æ­¢ä¸€ç§ï¼Œä½†æ˜¯ä»¥åŒ…å«subjectå’Œobserveræ¥å£çš„ç±»è®¾è®¡çš„åšæ³•æœ€ä¸ºå¸¸è§ã€‚</p>
<p>####2. æ–¹æ¡ˆäºŒï¼š<br><code>ä¸»é¢˜æ¥å£</code>ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;<span class="class"><span class="keyword">interface</span>&gt;&gt;<span class="title">Subject</span></span></span><br><span class="line"><span class="class">    <span class="title">RigisterObserver</span>()//æ³¨å†Œè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class">    <span class="title">RemoveObserver</span>()//ç§»å‡ºè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class">    <span class="title">NotifyObservers</span>()//é€šçŸ¥è§‚å¯Ÿè€…</span></span><br></pre></td></tr></table></figure></p>
<p><code>è§‚å¯Ÿè€…æ¥å£</code>ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;<span class="class"><span class="keyword">interface</span>&gt;&gt;<span class="title">Observer</span></span></span><br><span class="line"><span class="class">    <span class="title">update</span>()//ä¸»é¢˜çŠ¶æ€æ”¹å˜æ—¶å°†è¢«è°ƒç”¨</span></span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“ä¸»é¢˜å®ç°ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span></span></span><br><span class="line"><span class="class">    <span class="title">RigisterObserver</span>()</span>&#123;...&#125;</span><br><span class="line">    RemoveObserver()&#123;...&#125;</span><br><span class="line">    NotifyObservers()&#123;...&#125;</span><br><span class="line">    </span><br><span class="line">    getState()</span><br><span class="line">    setState()</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“è§‚å¯Ÿè€…å®ç°ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserver</span> <span class="title">implementsObserver</span></span></span><br><span class="line"><span class="class">    <span class="title">update</span>()</span></span><br><span class="line"><span class="class">    //å…¶ä»–æ–¹æ³•</span></span><br></pre></td></tr></table></figure></p>
<p>å› ä¸ºä¸»é¢˜å”¯ä¸€ä¾èµ–çš„ä¸œè¥¿æ˜¯ä¸€ä¸ªå®ç°Observeæ¥å£çš„å¯¹è±¡åˆ—è¡¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥éšæ—¶å¢åŠ è§‚å¯Ÿè€…ï¼Œä¸å¿…ä¿®æ”¹ä»£ç ã€‚ä¸»é¢˜ä¸éœ€è¦çŸ¥é“è§‚å¯Ÿè€…çš„å…·ä½“ç±»ã€‚</p>
<blockquote>
<p>è®¾è®¡åŸåˆ™<br><strong>ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè®¾è®¡è€ŒåŠªåŠ›</strong>ã€‚</p>
</blockquote>
<p>å…·ä½“ä¸»é¢˜å®ç°ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WeatherDate</span> <span class="keyword">implements</span> <span class="title">Subject</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ArrayList observers;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> temperature;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeatherData</span><span class="params">()</span></span>&#123;</span><br><span class="line">        observers = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerObserver</span><span class="params">(Observer o)</span></span>&#123;</span><br><span class="line">        observers.add(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">removeObserver</span><span class="params">(Observer o)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = observers.indexOf(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>) observers.remove(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; observers.size(); i++)&#123;<span class="comment">//éå†è°ƒç”¨è§‚å¯Ÿè€…é€šçŸ¥æ–¹æ³•</span></span><br><span class="line">            Observer observer = (Observer)observers.get(i);</span><br><span class="line">            observer.update(temperature);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">measurementsChanged</span><span class="params">()</span></span>&#123;</span><br><span class="line">        notifyObservers();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMeasurements</span><span class="params">(<span class="keyword">float</span> temperature)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.temperature = temperature;</span><br><span class="line">        measurementsChanged();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//WeatherDataå…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####3.æ–¹æ¡ˆä¸‰ï¼šjavaå†…ç½®è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆå¯ä»¥ä½¿ç”¨æ¨pushå’Œæ‹‰pullæ–¹å¼ï¼‰<br>javaå†…ç½®ç±»<code>Observable</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observable</span></span></span><br><span class="line"><span class="class">    <span class="title">addObserver</span>()</span></span><br><span class="line"><span class="class">    <span class="title">deleteObserver</span>()</span></span><br><span class="line"><span class="class">    <span class="title">notifyObservers</span>()</span></span><br><span class="line"><span class="class">    <span class="title">setChanged</span>()</span></span><br></pre></td></tr></table></figure></p>
<p>javaå†…ç½®æ¥å£<code>Observer</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Observer</span></span></span><br><span class="line"><span class="class">    <span class="title">update</span>()</span></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨æ–¹æ³•ä¸ä¸Šæ–¹æ¡ˆç±»ä¼¼ã€‚</p>
<p>####å‘å‡ºé€šçŸ¥æ­¥éª¤ï¼š<br>1.è°ƒç”¨<code>setChanged()</code>æ–¹æ³•æ ‡å¿—çŠ¶æ€å·²å‘ç”Ÿæ”¹å˜ã€‚<br>2.è°ƒç”¨notifyObserversæ–¹æ³•ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼š<br><code>notifyObservers()</code>æˆ– <code>notifyObservers(Object arg)</code><br>å…¶ä¸­argä¸ºå‘é€çš„æ•°æ®ã€‚</p>
<p>####æ¥æ”¶é€šçŸ¥ï¼š<br>è§‚å¯Ÿè€…çš„<code>update(Observable o ,Object arg)</code><br>å…¶ä¸­<code>Observable o</code>ä¸ºä¸»é¢˜æœ¬èº«ï¼Œ<code>Object arg</code>ä¸ºä¼ å…¥æ•°æ®<br>åœ¨<code>notifyObservers()</code>æ–¹æ³•ä¸­ï¼Œ<code>arg</code>å°†ä¸ºnull;<br>åœ¨<code>notifyObservers(Object arg)</code>æ–¹æ³•ä¸­ï¼Œ<code>arg</code>å°†ä¸ºarg;</p>
<p>è§‚å¯Ÿè€…å¯ä»¥é€šè¿‡è°ƒç”¨è·å–åˆ°çš„ä¸»é¢˜å¯¹è±¡çš„getteræ–¹æ³•æ¥æ‹‰å–æ•°æ®ã€‚</p>
<p><code>setChange()</code>æ–¹æ³•ç”¨æ¥æ ‡è®°çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œè‹¥è°ƒç”¨<code>notifyObservers()</code>ä¹‹å‰æ²¡æœ‰è°ƒç”¨ï¼Œå°†ä¸ä¼šå—åˆ°é€šçŸ¥ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éƒ¨åˆ†æºç </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> changed = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Observer&gt; obs;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        notifyObservers(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">(Object arg)</span> </span>&#123;</span><br><span class="line">        Object[] arrLocal;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!changed)<span class="comment">//å…ˆæ£€æµ‹æ ‡è®°çŠ¶æ€</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            arrLocal = obs.toArray();</span><br><span class="line">            clearChanged();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = arrLocal.length-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)<span class="comment">//éå†å‘å‡ºé€šçŸ¥</span></span><br><span class="line">            ((Observer)arrLocal[i]).update(<span class="keyword">this</span>, arg);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">clearChanged</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        changed = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¼ºé™·ï¼š</p>
<ol>
<li><code>Observable</code>æ˜¯ä¸€ä¸ªç±»ï¼Œæƒ³è¦ç»§æ‰¿å®ƒï¼Œå°±ä¸èƒ½ç»§æ‰¿å…¶ä»–è¶…ç±»ï¼ˆjavaä¸æ”¯æŒå¤šç»§æ‰¿ï¼‰ã€‚</li>
<li>æ²¡æœ‰æ¥å£ï¼Œä¸èƒ½æœ‰è‡ªå·±çš„å®ç°ç±»ã€‚</li>
<li><code>Observable</code>ä¸­ï¼Œ<code>setChanged()</code>æ–¹æ³•è¢«å®šä¹‰æˆ<strong>protected</strong>ï¼Œå› æ­¤ä¸èƒ½åˆ›å»ºObservableå®ä¾‹ç»„åˆåˆ°è‡ªå·±çš„å¯¹è±¡ä¸­ã€‚</li>
</ol>
<p>å› æ­¤ï¼šå¿…è¦æ—¶è¦ä½¿ç”¨è‡ªå·±å®ç°çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚</p>
<hr>
<p>##ä¸‰.è£…é¥°è€…æ¨¡å¼<br><strong>è£…é¥°è€…æ¨¡å¼ï¼šåŠ¨æ€åœ°å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚è‹¥è¦æ‹“å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº†æ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆã€‚</strong><br><em>ä¸ªäººç†è§£ï¼šè£…é¥°è€…å’Œè¢«è£…é¥°è€…æœ‰ç›¸åŒçš„è¶…ç±»å‹ï¼Œè¢«è£…é¥°è€…å¯ä»¥è¢«è£…é¥°è€…åŒ…è£…ï¼Œè£…é¥°è¿‡åçš„å¯¹è±¡ï¼ˆè£…é¥°è€…ï¼‰æ¥ä»£æ›¿è¢«è£…é¥°è€…ã€‚è¿™æ ·ï¼Œå¯ä»¥åœ¨è¢«è£…é¥°è€…è¡Œä¸ºçš„å‰/ååŠ ä¸Šè‡ªå·±çš„è¡Œä¸ºã€‚</em></p>
<p>ä¾‹å­ï¼šå’–å•¡åº—é¥®æ–™ç±»è®¾ç½®ï¼Œå¯ä»¥åŠ å…¥è°ƒæ–™è®¡ç®—ä»·æ ¼ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Class <span class="keyword">abstract</span> Beverage<span class="comment">//é¥®æ–™ç±»</span></span><br><span class="line">&#123;</span><br><span class="line">    description<span class="comment">//é¥®æ–™å™è¿°ï¼Œç”±å­ç±»è®¾ç½®</span></span><br><span class="line">    </span><br><span class="line">    getDesciption()</span><br><span class="line">    cost()<span class="comment">//æŠ½è±¡æ–¹æ³•ï¼Œè®¡ç®—å‡ºé¥®æ–™ä»·æ ¼ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####æ–¹æ¡ˆä¸€ï¼š<del>ç¼–å†™ä¸åŒé¥®æ–™ç±»ç»§æ‰¿<code>Beverage</code>ï¼Œä»¥åŠåŠ ä¸Šå„ç§è°ƒæ–™çš„ç±»,-&gt;ç±»çˆ†ç‚¸ã€‚</del></p>
<p>####æ–¹æ¡ˆäºŒï¼š<del>åœ¨<code>Beverage</code>ç±»æ·»åŠ è°ƒæ–™å¸ƒå°”å€¼å˜é‡ï¼Œä»¥åŠ<code>hasXXX()</code>ã€<code>setXXX()</code>æ–¹æ³•ï¼Œ<code>cost()</code>è®¡ç®—å‡ºåŠ å…¥è°ƒæ–™çš„æ€»ä»·ï¼Œå…·ä½“é¥®æ–™å­ç±»è¦†ç›–<code>cost()</code>æ–¹æ³•ï¼Œä½†æ˜¯ä¼šè°ƒç”¨çˆ¶ç±»<code>cost()</code>æ–¹æ³•è®¡ç®—æ€»ä»·ã€‚</del><br>ç¼ºç‚¹ï¼š<br>1.è°ƒæ–™ä»·æ ¼æ”¹å˜ï¼Œéœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç ã€‚<br>2.å‡ºç°æ–°çš„è°ƒæ–™ï¼Œéœ€è¦é‡æ–°ä¿®æ”¹<code>cost()</code>æ–¹æ³•<br>3.éœ€è¦æ·»åŠ åŒä»½ç›¸åŒçš„è°ƒæ–™ï¼Œä¸èƒ½å®ç°ã€‚<br>4.å¯¹äºæŸäº›è°ƒæ–™ä¸é€‚ç”¨çš„é¥®æ–™ï¼Œä»éœ€è¦ç»§æ‰¿ä¸åˆé€‚çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>è®¾è®¡åŸåˆ™<br><strong>ç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</strong><br><em>ç„¶è€Œï¼Œé€šå¸¸ä¸‹ï¼Œéƒ½åŠä¸åˆ°è®©è®¾è®¡çš„æ¯ä¸ªéƒ¨åˆ†éƒ½éµå¾ªå¼€æ”¾-å…³é—­åŸåˆ™ï¼Œè®¾è®¡åŒæ—¶å…·å¤‡å¼€æ”¾æ€§å’Œå…³é—­æ€§ï¼Œåˆä¸ä¿®æ”¹ç°æœ‰çš„ä»£ç ï¼Œéœ€è¦èŠ±è´¹è®¸å¤šçš„æ—¶é—´å’ŒåŠªåŠ›ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ²¡æœ‰é—²å·¥å¤«æŠŠè®¾è®¡çš„æ¯ä¸ªéƒ¨åˆ†éƒ½è¿™ä¹ˆè®¾è®¡ã€‚åªéœ€æŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨è®¾è®¡ä¸­æœ€æœ‰å¯èƒ½æ”¹å˜çš„åœ°æ–¹ï¼Œç„¶ååº”ç”¨å¼€æ”¾-å…³é—­åŸåˆ™ã€‚</em></p>
</blockquote>
<p>####æ–¹æ¡ˆä¸‰ï¼šä¿®é¥°è€…æ¨¡å¼ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Component <span class="comment">//æŠ½è±¡ç±»æˆ–è€…æ¥å£ï¼Œå…±åŒçš„è¶…ç±»å‹</span></span><br><span class="line">&#123;</span><br><span class="line">    methodA()</span><br><span class="line">    methodB()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ConcreteComponent extends/implement Component <span class="comment">// è¢«è£…é¥°è€…</span></span><br><span class="line">&#123;</span><br><span class="line">    methodA()</span><br><span class="line">    methodB()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Decorator extends/implement Component <span class="comment">//è£…é¥°è€…</span></span><br><span class="line">&#123;</span><br><span class="line">    methodA()</span><br><span class="line">    methodB()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ConcerteDecoratorA extends/implement Decorator <span class="comment">//å…·ä½“è£…é¥°è€…ç±»</span></span><br><span class="line">&#123;</span><br><span class="line">    Component wrappedObj <span class="comment">//è®°å½•çš„è¢«ä¿®é¥°å¯¹è±¡</span></span><br><span class="line">    </span><br><span class="line">    methodA()</span><br><span class="line">    methodB()</span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ä¸­çš„è§£å†³åŠæ³•ï¼š<br>åŸºç±»:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Beverage</span></span>&#123; <span class="comment">//é¥®æ–™æŠ½è±¡ç±»ï¼Œç›¸å½“äºcomponent</span></span><br><span class="line">    String description = <span class="string">"Unknow Beverage"</span>; <span class="comment">//é¥®æ–™æè¿°</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span></span>; <span class="comment">//è®¡ç®—ä»·æ ¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CondimentDecorator</span> <span class="keyword">extends</span> <span class="title">Beverage</span></span>&#123; <span class="comment">//é¥®æ–™æŠ½è±¡ç±»ï¼Œç›¸å½“äºdecorator</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…·ä½“ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Espresso</span> <span class="keyword">extends</span> <span class="title">Beverage</span></span>&#123; <span class="comment">//æµ“ç¼©å’–å•¡ç±»ï¼Œç›¸å½“äºConcerteDecoratorA</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Espresso</span><span class="params">()</span></span>&#123;</span><br><span class="line">        description = <span class="string">"espresso"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.99</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mocha</span> <span class="keyword">extends</span> <span class="title">CondimentDecorator</span></span>&#123; <span class="comment">//è°ƒæ–™ç±»ï¼Œç›¸å½“äºConcerteDecoratorA</span></span><br><span class="line">    Beverage beverage;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Mocha</span><span class="params">(Beverage beverage)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.beverage = beverage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> beverage.getDescription() + <span class="string">"mocha"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.20</span> + beverage.cost();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="comment">//åŠ åŒå€æ‘©å¡ã€åŠ å¥¶æ³¡çš„çƒ˜ç„™å’–å•¡</span></span><br><span class="line">Beverage beverage = <span class="keyword">new</span> DarkRoast();</span><br><span class="line">beverage = <span class="keyword">new</span> Mocha(beverage);</span><br><span class="line">beverage = <span class="keyword">new</span> Mocha(beverage);</span><br><span class="line">beverage = <span class="keyword">new</span> Whip(beverage);</span><br><span class="line">System.out.println(beverage.getDescription()</span><br><span class="line">        + <span class="string">"$"</span> + beverage.cost());</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure></p>
<p>è£…é¥°è€…ä¼šå¯¼è‡´è®¾è®¡ä¸­å‡ºç°è®¸å¤šå°å¯¹è±¡ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨ï¼Œä¼šè®©ç¨‹åºå˜å¾—å¤æ‚ã€‚</p>
<hr>
<p>##å››.å·¥å‚æ¨¡å¼<br>ä½¿ç”¨<code>new</code>æ—¶ï¼Œä»£ç æ†ç»‘ç€å…·ä½“ç±»ä¼šå¯¼è‡´ä»£ç æ›´è„†å¼±ï¼Œä¸€æ—¦æœ‰å˜åŒ–æˆ–è€…æ‰©å±•ï¼Œå°±å¿…é¡»é‡æ–°æ‰“å¼€è¿™æ®µä»£ç è¿›è¡Œæ£€æŸ¥å’Œä¿®æ”¹ã€‚é€šå¸¸è¿™æ ·ä¿®æ”¹è¿‡çš„ä»£ç å°†é€ æˆä¸åˆ†ç³»ç»Ÿæ›´éš¾ç»´æŠ¤å’Œæ›´æ–°ï¼Œè€Œä¸”æ›´å®¹æ˜“çŠ¯é”™ã€‚<br>ä¾‹å­ï¼šåˆ›å»ºpizzaç±»ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Pizza <span class="title">orderPizza</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Pizza pizza = <span class="keyword">new</span> Pizza(); <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ªç±»ã€‚</span></span><br><span class="line">    </span><br><span class="line">    pizza.prepare();</span><br><span class="line">    pizza.bake();</span><br><span class="line">    pizza.cut();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å½“å®ä¾‹åŒ–ä¸åŒç±»å‹çš„Pizzaç±»æ—¶ï¼Œéœ€è¦ä½¿ç”¨å¤§é‡<code>if/else</code>è¯­å¥æ¥åˆ¤æ–­å®ä¾‹åŒ–çš„ç±»ã€‚<br>è¿åäº†orderPizza()å¯¹ä¿®æ”¹å…³é—­åŸåˆ™ã€‚</p>
<p>####1.ç®€å•å·¥å‚<br><em>ç®€å•å·¥å‚å…¶å®ä¸æ˜¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹ä¹ æƒ¯ã€‚</em><br>æŠŠåˆ›å»ºç±»çš„ä»£ç ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ï¼ˆç®€å•å·¥å‚ï¼‰ï¼Œç”±è¿™ä¸ªå¯¹è±¡ï¼ˆç®€å•å·¥å‚ï¼‰ä¸“èŒåˆ›å»ºéœ€è¦çš„ç±»ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimplePizzaFactory</span></span>&#123; <span class="comment">//ç®€å•å·¥å‚</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pizza <span class="title">creatPizza</span><span class="params">(String type)</span></span>&#123;</span><br><span class="line">        Pizza pizza = <span class="keyword">null</span>; </span><br><span class="line">        <span class="keyword">if</span>(type.equals(<span class="string">"cheese"</span>))&#123;</span><br><span class="line">            pizza = <span class="keyword">new</span> CheesePizza();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="comment">/*....*/</span>)&#123;</span><br><span class="line">            <span class="comment">//pizzaf =  ....</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//...ä»¥æ­¤ç±»æ¨</span></span><br><span class="line">        <span class="keyword">return</span> pizza;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PizaStore</span></span>&#123;</span><br><span class="line">    SimplePizzaFactory factory;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PizzaStore</span><span class="params">(SimplePizzaFactory factory)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.factory = factory;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Pizza <span class="title">orderPizza</span><span class="params">(String type)</span></span>&#123;</span><br><span class="line">        Pizza pizza;</span><br><span class="line">        pizza = factory.creatPizza(type); <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ªç±»</span></span><br><span class="line">        </span><br><span class="line">        pizza.prepare();</span><br><span class="line">        pizza.bake();</span><br><span class="line">        pizza.cut();</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¥½å¤„ï¼šä»¥åå®ç°æ”¹å˜æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹è¿™ä¸ªå·¥å‚ç±»ï¼Œä¸éœ€è¦å¯¹å®¢æˆ·ç±»è¿›è¡Œä¿®æ”¹ã€‚<br><strong>å¾ˆå¤šæ—¶å€™ï¼ŒæŠŠå·¥å‚å®šä¹‰æˆé™æ€æ–¹æ³•ï¼Œæˆä¸ºé™æ€å·¥å‚ï¼Œå°±ä¸éœ€è¦åˆ›å»ºå·¥å‚å¯¹è±¡æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚ä½†æ˜¯é™æ€å·¥å‚å°±ä¸èƒ½é€šè¿‡ç»§æ‰¿æ¥æ”¹å˜åˆ›å»ºæ–¹æ³•è¡Œä¸ºã€‚</strong></p>
<p>####2.å·¥å‚æ–¹æ³•æ¨¡å¼<br><strong>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªã€‚å·¥å‚æ–¹æ³•è®©ç±»æŠŠå®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ã€‚</strong><br>ä¸ªäººç†è§£ï¼šé€šè¿‡ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡çš„æŠ½è±¡æ–¹æ³•æ¥è®©å­ç±»å†³å®šå®ä¾‹åŒ–çš„å¯¹è±¡,å®ç°è§£è€¦ã€‚<br>åˆ›å»ºè€…ï¼ˆcreatorï¼‰ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">PizzaStore</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pizza <span class="title">orderPizza</span><span class="params">(String type)</span></span>&#123;</span><br><span class="line">        Pizza pizza;</span><br><span class="line">        </span><br><span class="line">        pizza = creatPizza(type);<span class="comment">//*</span></span><br><span class="line">        </span><br><span class="line">        pizza.prepare();</span><br><span class="line">        pizza.bake();</span><br><span class="line">        pizza.cut();</span><br><span class="line">        pizza.box();</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> pizza;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> Pizza <span class="title">createPizza</span><span class="params">(String type)</span></span>;<span class="comment">// å·¥å‚æ–¹æ³•ï¼Œç”±å­ç±»å®ç°å®ä¾‹åŒ–å¯¹è±¡ã€‚äº§å“æ˜¯Pizzaçš„å­ç±»ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å·¥å‚æ–¹æ³•å’Œåˆ›å»ºè€…ï¼ˆcreatorï¼‰ä¹Ÿä¸æ€»æ˜¯æŠ½è±¡çš„ï¼Œå› ä¸ºå¯ä»¥å®šä¹‰ä¸€ä¸ªé»˜è®¤çš„å·¥å‚æ–¹æ³•æ¥ç”Ÿäº§å…·ä½“çš„äº§å“ã€‚<br>é€šè¿‡ä¼ å…¥ç±»å‹åˆ¶é€ ä¸åŒç±»å‹çš„å¯¹è±¡çš„æ–¹å¼æˆä¸º<strong>â€œå‚æ•°åŒ–å·¥å‚æ–¹æ³•â€</strong>ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥åªäº§ç”Ÿä¸€ç§å¯¹è±¡ï¼Œä¸éœ€è¦å‚æ•°åŒ–ã€‚<br>åˆ©ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°åŒ–ç±»å‹ï¼Œå®¹æ˜“é€ æˆâ€œè¿è¡Œæ—¶é”™è¯¯â€ï¼Œå¯ä»¥åˆ›å»ºä»£è¡¨å‚æ•°ç±»å‹çš„å¯¹è±¡å’Œä½¿ç”¨é™æ€å¸¸é‡æˆ–è€…enumæ¥è§£å†³é—®é¢˜ã€‚</p>
<blockquote>
<p>ä¾èµ–å€’ç½®åŸåˆ™<br><strong>è¦ä¾èµ–æŠ½è±¡ï¼Œä¸è¦ä¾èµ–å…·ä½“ç±»ã€‚</strong><br>æŒ‡å¯¼æ–¹é’ˆï¼š<br>å˜é‡ä¸å¯ä»¥æŒæœ‰å…·ä½“ç±»çš„å¼•ç”¨ã€‚<br>ä¸è¦è®©ç±»æ´¾ç”Ÿè‡ªå…·ä½“ç±»ã€‚<br>ä¸è¦è¦†ç›–åŸºç±»ä¸­å·²å®ç°çš„æ–¹æ³•ã€‚<br><em>ä»¥ä¸Šæ–¹é’ˆåªæ˜¯å°½é‡è¾¾åˆ°çš„åŸåˆ™ï¼Œå®é™…ä¸å¯èƒ½å®Œå…¨éµå®ˆè¿™äº›æ–¹é’ˆã€‚</em></p>
</blockquote>
<p>####3.æŠ½è±¡å·¥å‚<br><strong>æä¾›äº†ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜ç¡®æŒ‡å®šå…·ä½“ç±»ã€‚</strong><br><em>å®¶æ—ï¼Ÿä¾‹å­ä¸­çš„åˆ¶ä½œæŠ«è¨æ‰€éœ€è¦çš„ææ–™ï¼šé¢å›¢ã€èŠå£«ã€é…±æ–™ç­‰ã€‚</em><br>æŠ½è±¡å·¥å‚æ¥å£ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PizzaIngredientFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Dough <span class="title">createDough</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Sauce <span class="title">createSauce</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“å·¥å‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NYPizzaIngredientFactory</span> <span class="keyword">implements</span> <span class="title">PizzaIngredientFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Dough <span class="title">createDough</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ThinCrustDough();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Sauce <span class="title">createDough</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MarinaraSauce();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æŠ½è±¡äº§å“ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Pizza</span></span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“äº§å“ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheesePizza</span> <span class="keyword">extends</span> <span class="title">Pizza</span></span>&#123;</span><br><span class="line">    PizzaIngredientFactory ingredientFactory;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CheesePizza</span><span class="params">(PizzaIngredientFactory ingredientFactory)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ingredientFactory = ingredientFactory;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">        dough = ingredientFactory.createDouth();</span><br><span class="line">        sauce = ingredientFactory.createSauce();</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####å·¥å‚æ–¹æ³•vsæŠ½è±¡å·¥å‚<br>å·¥å‚æ–¹æ³•é€šè¿‡ç»§æ‰¿æ–¹æ³•å®ç°ã€‚æŠ½è±¡å·¥å‚é€šè¿‡å¯¹è±¡ç»„åˆå®ç°ã€‚<br>æƒ³è¦æŠŠå®¢æˆ·ä»£ç ä»éœ€è¦å®ä¾‹åŒ–çš„å…·ä½“ç±»ä¸­è§£è€¦ï¼Œæˆ–è€…ä¸çŸ¥é“å°†æ¥éœ€è¦å®ä¾‹åŒ–å“ªäº›å…·ä½“ç±»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>å·¥å‚æ–¹æ³•</strong>ã€‚<br>éœ€è¦åˆ›å»ºäº§å“å®¶æ—å’Œæƒ³è®©åˆ›é€ çš„ç›¸å…³äº§å“é›†åˆèµ·æ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>æŠ½è±¡å·¥å‚</strong>ã€‚</p>
<hr>
<p>##äº”ã€å•ä»¶æ¨¡å¼<br><strong>å•ä»¶æ¨¡å¼ï¼šç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚</strong></p>
<p>####1.ç»å…¸çš„å•ä»¶æ¨¡å¼å®ç°<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    priavte <span class="keyword">static</span> Singleton uniqueInstance;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125; <span class="comment">// æ„é€ æ–¹æ³•è®¾ç½®ä¸ºç§æœ‰çš„ï¼Œç¦æ­¢å¤–éƒ¨è°ƒç”¨ã€‚</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123; <span class="comment">// é™æ€æ–¹æ³•ï¼Œè·å–å•ä¾‹å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="keyword">if</span>(uniqueInstance == <span class="keyword">null</span>)&#123; <span class="comment">//åˆ¤æ–­æ˜¯å¦å·²ç»å®ä¾‹åŒ–è¿‡å¯¹è±¡ã€‚</span></span><br><span class="line">            uniqueInsatance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> uniqueInstance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¼ºé™·ï¼šå¤šçº¿ç¨‹å¯èƒ½å‡ºç°è·å–ä¸åŒçš„å®ä¾‹ã€‚</p>
<p>####2.<code>getInstance()</code>æ–¹æ³•çš„æ€§èƒ½å¯¹åº”ç”¨ä¸æ˜¯å¾ˆå…³é”®çš„æ—¶å€™ï¼Œå¢åŠ <code>synchronizd</code>å…³é”®å­—ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    priavte <span class="keyword">static</span> Singleton uniqueInstance;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125; </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123; <span class="comment">// æ·»åŠ synchronizdå…³é”®å­—ï¼Œç¡®ä¿åŒæ­¥ã€‚</span></span><br><span class="line">        <span class="keyword">if</span>(uniqueInstance == <span class="keyword">null</span>)&#123; </span><br><span class="line">            uniqueInsatance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> uniqueInstance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¼ºé™·ï¼šgetInstance()çš„æ€§èƒ½é™ä½ã€‚</p>
<p>####3.åº”ç”¨ç¨‹åºæ€»æ˜¯åˆ›å»ºå¹¶ä½¿ç”¨å•ä»¶å®ä¾‹ï¼Œæˆ–è€…åœ¨åˆ›å»ºå’Œè¿è¡Œæ—¶çš„è´Ÿæ‹…ä¸ç¹é‡ï¼Œå¯ä»¥ä½¿ç”¨â€œæ€¥åˆ‡â€åˆ›å»ºå®ä¾‹ï¼Œè€Œä¸ç”¨å»¶è¿Ÿå®ä¾‹åŒ–çš„åšæ³•ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton uniqueInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> uniqueInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####4.åˆ©ç”¨â€œåŒé‡æ£€æŸ¥æ·é”â€ï¼Œåœ¨<code>getInsatnce()</code>ä¸­å‡å°‘ä½¿ç”¨åŒæ­¥ã€‚<br>é¦–å…ˆæ£€æŸ¥æ˜¯å¦å®ä¾‹å·²ç»åˆ›å»ºäº†ï¼Œå¦‚æœå°šæœªåˆ›å»ºï¼Œâ€œæ‰â€è¿›è¡ŒåŒæ­¥ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton uniqueInstance;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(uniqueInstance == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class)&#123;</span><br><span class="line">                <span class="keyword">if</span>(uniqueInsatance = <span class="keyword">null</span>)&#123;</span><br><span class="line">                    uniquestance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> uniqueInstance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>##å…­.å‘½ä»¤æ¨¡å¼<br><strong>å‘½ä»¤æ¨¡å¼ï¼šå°†â€œè¯·æ±‚â€å°è£…æˆå¯¹è±¡ï¼Œä»¥ä¾¿ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ã€é˜Ÿåˆ—æˆ–è€…æ—¥å¿—æ¥å‚æ•°åŒ–å…¶ä»–å¯¹è±¡ã€‚å‘½ä»¤æ¨¡å¼ä¹Ÿæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚</strong><br>//ç¨åç»§ç»­</p>
<p>##ä¸ƒ.é€‚é…å™¨æ¨¡å¼<br><strong>é€‚é…å™¨æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£ï¼Œè½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥åˆä½œæ— é—´ã€‚</strong><br>ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quack</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MallardDuck</span> <span class="keyword">implements</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quack</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Quack"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"i am flying"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ–°æ¥å£ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Turkey</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gobble</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ–°æ¥å£çš„ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WildTurkey</span> <span class="keyword">implements</span> <span class="title">Turkey</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gobble</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Gobble gobble"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"i am flying a short distance"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é€‚é…å™¨ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TurkeyAdapter</span> <span class="keyword">implements</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    Turkey turkey;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TurkeyAdapter</span><span class="params">(Turkey turkey)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.turkey = turkey;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quack</span><span class="params">()</span></span>&#123;</span><br><span class="line">        turkey.gobble();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">5</span> ; i++)&#123;</span><br><span class="line">            turkey.fly();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å®ä¾‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testDuck</span><span class="params">(Duck duck)</span></span>&#123; <span class="comment">//å®¢æˆ·éœ€è¦çš„æ¥å£ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³å®é™…ä½¿ç”¨Turkeyæ¥å£</span></span><br><span class="line">    duck.quack();</span><br><span class="line">    duck.fly();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    MallardDuck duck = <span class="keyword">new</span> MallardDuck(); <span class="comment">// æ­£å¸¸å®ç°Duckæ¥å£çš„å®ä¾‹</span></span><br><span class="line">    WildTurkey turkey = <span class="keyword">new</span> WildTurkey(); <span class="comment">// å®ç°Turkeyæ¥å£çš„å®ä¾‹ï¼Œä¸èƒ½ç”¨äºtestDuckæ–¹æ³•</span></span><br><span class="line">    </span><br><span class="line">    Duck turkeyAdapter = <span class="keyword">new</span> TurkeyAdapter(turkey); <span class="comment">// é€‚é…å™¨</span></span><br><span class="line">    </span><br><span class="line">    testDuck(duck);</span><br><span class="line">    testDuck(turkeyAdapter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>##å…«.å¤–è§‚æ¨¡å¼<br><strong>å¤–è§‚æ¨¡å¼ï¼šæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£ã€‚å¤–è§‚å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè®©å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚</strong></p>
<p>##ä¹.æ¨¡æ¿æ–¹æ³•æ¨¡å¼<br><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼šåœ¨ä¸€ä¸ªæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé‡æ–°å®šä¹‰ç®—æ³•ä¸­çš„æŸäº›æ­¥éª¤ã€‚</strong><br>ä¸ªäººç†è§£ï¼šåœ¨ä¸€ä¸ªæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªç®—æ³•éª¨æ¶ï¼Œä¸€äº›è¯¦ç»†æ­¥éª¤é€šè¿‡å®šä¹‰æŠ½è±¡æ–¹æ³•æ¥äº¤ç»™å…·ä½“å­ç±»å®ç°ã€‚<br>ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CaffeineBeverage</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="keyword">final</span> <span class="title">prepareRecipe</span><span class="params">()</span></span>&#123;</span><br><span class="line">        boilWater();</span><br><span class="line">        brew();</span><br><span class="line">        pourInCup();</span><br><span class="line">        addCondiments();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">brew</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">addCondiments</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">boilWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//å…·ä½“å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pourInCup</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//å…·ä½“å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨æŠ€å·§ï¼šé’©å­ã€‚<br>é’©å­æ˜¯ä¸€ç§è¢«å£°æ˜åœ¨æŠ½è±¡æ–¹æ³•ä¸­çš„æ–¹æ³•ï¼Œä½†åªæœ‰<strong>ç©ºçš„æˆ–è€…é»˜è®¤çš„å®ç°</strong>ã€‚é’©å­çš„å­˜åœ¨ï¼Œå¯ä»¥è®©å­ç±»æœ‰èƒ½åŠ›å¯¹ç®—æ³•çš„ä¸åŒç‚¹è¿›è¡ŒæŒ‚é’©ã€‚è¦ä¸è¦æŒ‚é’©ï¼Œç”±å­ç±»å†³å®šã€‚<br>ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CaffeineBeverage</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="keyword">final</span> <span class="title">prepareRecipe</span><span class="params">()</span></span>&#123;</span><br><span class="line">        boilWater();</span><br><span class="line">        brew();</span><br><span class="line">        pourInCup();</span><br><span class="line">        <span class="keyword">if</span>(customerWantsCondiments())&#123; <span class="comment">//*</span></span><br><span class="line">            addCondiments();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">brew</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">addCondiments</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">boilWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//å…·ä½“å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pourInCup</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//å…·ä½“å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">customerWantsCondiments</span><span class="params">()</span></span>&#123; <span class="comment">//å­ç±»å¯ä»¥é€‰æ‹©è¦†ç›–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>è®¾è®¡åŸåˆ™<br><strong>å¥½è±ååŸåˆ™ï¼šåˆ«è°ƒç”¨æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä½ </strong><br>æˆ‘ä»¬å…è®¸åº•å±‚ç»„ä»¶å°†è‡ªå·±æŒ‚é’©åˆ°ç³»ç»Ÿä¸Šï¼Œä½†æ˜¯é«˜å±‚ç»„ä»¶ä¼šå†³å®šä»€ä¹ˆæ—¶å€™å’Œæ€ä¹ˆæ ·ä½¿ç”¨è¿™äº›åº•å±‚ç»„ä»¶ã€‚</p>
</blockquote>
<p>java apiä¾‹å­ï¼šComparableæ¥å£</p>
<p>##å.è¿­ä»£å™¨æ¨¡å¼<br><strong>è¿­ä»£å™¨æ¨¡å¼ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œä¸æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤ºã€‚</strong><br>ä¸ªäººç†è§£ï¼šå½“éœ€è¦éå†ä¸åŒçš„é›†åˆç±»å‹æ—¶ï¼Œå°±éœ€è¦åˆ†åˆ«å®ç°ä¸åŒçš„éå†ä»£ç ï¼Œä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ï¼Œå®ç°å¯¹åº”çš„æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™äº›è¿­ä»£å™¨æ–¹æ³•è¿›è¡Œéå†ï¼Œä¸éœ€è¦åˆ†åˆ«å®ç°éå†ç®—æ³•ã€‚<br>ä¾‹å­ï¼š<br>è¿­ä»£å™¨æ¥å£ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>; <span class="comment">//è¿”å›æ˜¯å¦æœ‰æ›´å¤šå…ƒç´ </span></span><br><span class="line">    <span class="function">Object <span class="title">next</span><span class="params">()</span></span>; <span class="comment">// è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿­ä»£å™¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MenuIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span></span>&#123;</span><br><span class="line">    Item[] items;</span><br><span class="line">    <span class="keyword">int</span> position = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MenuIterator</span><span class="params">(Item items)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.items = items;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">next</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Item item = items[position];</span><br><span class="line">        position = position + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(position &gt;= items.length ||items[position] == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> ture;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DinerMenu</span></span>&#123;</span><br><span class="line">    Item[] = items;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator <span class="title">createIterator</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MenuIterator(items);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»¥ä¸Šæ˜¯ä½¿ç”¨æ‰‹åŠ¨çš„è¿­ä»£å™¨è§£å†³æ–¹æ³•ï¼Œä¸‹é¢ä¸ºä½¿ç”¨java.util.Iteratoræ¥å£ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DinerMenu</span></span>&#123;</span><br><span class="line">    ArrayList items = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator <span class="title">createIterator</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items.iterator();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿­ä»£å™¨æ¨¡å¼è®©æˆ‘ä»¬èƒ½æ¸¸èµ°ä¸èšåˆå†…çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤ºã€‚<br>æŠŠæ¸¸èµ°çš„ä»»åŠ¡æ”¾åœ¨è¿­ä»£å™¨ä¸Šï¼Œè€Œä¸æ˜¯èšåˆä¸Šã€‚è¿™æ ·ç®€åŒ–äº†èšåˆçš„æ¥å£å’Œå®ç°ï¼Œä¹Ÿè®©è´£ä»»å„å¾—å…¶æ‰€ã€‚</p>
<blockquote>
<p>è®¾è®¡åŸåˆ™<br><strong>ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å˜åŒ–çš„åŸå› </strong><br>å…è®¸ä¸€ä¸ªç±»åªéœ€è¦å®Œæˆè‡ªå·±çš„ä»»åŠ¡ï¼Œä¸è¦åŒæ—¶æ‰¿æ‹…æ›´å¤šçš„è´£ä»»ï¼ˆæ¯”å¦‚éå†ï¼‰ã€‚<br>å½“ä¸€ä¸ªæ¨¡å—æˆ–è€…ä¸€ä¸ªç±»è¢«è®¾è®¡å¾—åªæ”¯æŒä¸€ç»„ç›¸å…³çš„åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬è¯´å®ƒå…·æœ‰<strong>é«˜å†…èš</strong>ã€‚</p>
</blockquote>
<hr>
<p>##åä¸€.ç»„åˆæ¨¡å¼<br><strong>ç»„åˆæ¨¡å¼ï¼šå…è®¸ä½ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„æ¥è¡¨ç°â€œæ•´ä½“/éƒ¨åˆ†â€å±‚æ¬¡ç»“æ„ã€‚ç»„åˆèƒ½è®©å®¢æˆ·ä»¥ä¸€è‡´çš„æ–¹å¼å¤„ç†ä¸ªåˆ«å¯¹è±¡ä»¥åŠå¯¹è±¡ç»„åˆã€‚</strong><br>ä¸ªäººç†è§£ï¼šæä¾›ä¸€ä¸ªå…±åŒçš„æ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œä¾›å¶å­èŠ‚ç‚¹ä¸æ‹¥æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹å®ç°ï¼Œéœ€è¦é»˜è®¤å®ç°çš„ä½¿ç”¨æŠ½è±¡ç±»ï¼Œå¶èŠ‚ç‚¹è·Ÿæ‹¥æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹åˆ†åˆ«å®ç°éœ€è¦çš„æ–¹æ³•ã€‚</p>
<hr>
<p>##åäºŒ.çŠ¶æ€æ¨¡å¼<br><strong>çŠ¶æ€æ¨¡å¼ï¼šå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</strong><br>ä¸ªäººç†è§£ï¼šå®šä¹‰ä¸€ä¸ªçŠ¶æ€æ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œå…¶ä¸­åŒ…å«ä¸åŒçŠ¶æ€éœ€è¦åšå‡ºä¸åŒæ“ä½œçš„æ–¹æ³•ã€‚å®ç°æˆ–è€…ç»§æ‰¿è¿™ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»æ¥è¡¨ç¤ºä¸åŒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ç°å…·ä½“çš„æ“ä½œï¼ˆåŒ…æ‹¬çŠ¶æ€çš„æ”¹å˜ï¼‰ã€‚<br>Contextç±»ä¸­ï¼Œå¯ä»¥åŒ…å«è¿™äº›çŠ¶æ€ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæŒ‡å‘ç›®å‰çŠ¶æ€çš„å­—æ®µï¼Œåœ¨ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œè°ƒç”¨ç›®å‰çŠ¶æ€çš„å¯¹åº”æ–¹æ³•ã€‚</p>
<hr>
<p>##åä¸‰.ä»£ç†æ¨¡å¼<br><strong>ä»£ç†æ¨¡å¼ï¼šä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªæ›¿èº«æˆ–å ä½ç¬¦ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</strong><br>ä»£ç†æ¨¡å¼æœ‰å¾ˆå¤šå½¢å¼çš„æ˜¾ç°ã€‚</p>
<p>####1.è¿œç¨‹ä»£ç†<br>è¿œç¨‹ä»£ç†å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªJVMä¸Šå¯¹è±¡çš„æœ¬åœ°ä»£è¡¨ã€‚è°ƒç”¨ä»£ç†çš„æ–¹æ³•ï¼Œä¼šè¢«ä»£ç†åˆ©ç”¨ç½‘ç»œè½¬å‘åˆ°è¿œç¨‹æ‰§è¡Œï¼Œå¹¶ä¸”ç»“æœä¼šé€šè¿‡ç½‘ç»œè¿”å›ç»™ä»£ç†ï¼Œå†ç”±ä»£ç†å°†ç»“æœè½¬ç»™å®¢æˆ·ã€‚(java AMI)</p>
<p>####2.è™šæ‹Ÿä»£ç†<br>è™šæ‹Ÿä»£ç†ä½œä¸ºåˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡çš„ä»£è¡¨ã€‚è™šæ‹Ÿä»£ç†ç»å¸¸çŸ¥é“æˆ‘ä»¬çœŸæ­£éœ€è¦ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™æ‰åˆ›å»ºå®ƒã€‚å½“å¯¹è±¡åœ¨åˆ›å»ºå‰å’Œåˆ›å»ºä¸­æ—¶ï¼Œç”±è™šæ‹Ÿä»£ç†æ¥æ‰®æ¼”å¯¹è±¡çš„æ›¿èº«ã€‚å¯¹è±¡åˆ›å»ºåï¼Œä»£ç†å°±ä¼šå°†è¯·æ±‚ç›´æ¥å§”æ‰˜ç»™å¯¹è±¡ã€‚<br>å¦‚ï¼šåˆ©ç”¨è™šæ‹Ÿä»£ç†åŠ è½½å†…å®¹ï¼ŒåŠ è½½å®Œæˆå‰æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€ã€‚</p>
<p>####3.åŠ¨æ€ä»£ç†<br>java.lang.reflectåŒ…ä¸­æ”¯æŒä»£ç†ï¼Œåˆ©ç”¨è¿™ä¸ªåŒ…å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼Œå®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œå¹¶å°†æ–¹æ³•çš„è°ƒç”¨è½¬å‘åˆ°ä½ æ‰€æŒ‡å®šçš„ç±»ã€‚å› ä¸ºå®é™…çš„ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ›å»ºçš„ï¼Œæ‰€ä»¥ç§°è¿™ä¸ªjavaæŠ€æœ¯ä¸º<strong>åŠ¨æ€ä»£ç†</strong>ã€‚<br>åˆ©ç”¨<code>Poxy</code>ç±»è·Ÿ<code>InvocationHandler</code>æ¥å£ã€‚<br>å®ç°InvocationHandlerç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OwnerInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line">    Person person;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OwnerInvocationHandler</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.person = person;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoker</span><span class="params">(Object proxy,Method method,Object[] args)</span> <span class="keyword">throws</span> IllegalAccessException</span>&#123; <span class="comment">//åˆ†åˆ«ä»£è¡¨ä»£ç†å¯¹è±¡ã€è°ƒç”¨çš„æ–¹æ³•ã€å‚æ•°ã€‚ä»£ç†å¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶éƒ½ä¼šè°ƒç”¨æ¬¡æ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(method.getName().startWith(<span class="string">"get"</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> method.invoke(person,args); <span class="comment">//å®é™…è°ƒç”¨å¯¹è±¡æ–¹æ³•ï¼Œpersonä¸ºè°ƒç”¨çš„å¯¹è±¡ï¼Œagesä¸ºå‚æ•°ã€‚</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalAccessException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(InvocationTargetException e)&#123;</span><br><span class="line">            e,printStrackTrance();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å®ä¾‹åŒ–Proxyå¯¹è±¡,å¹¶æ‰§è¡Œä»£ç†æ–¹æ³•ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="function">Person <span class="title">getOwnerProxy</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (Person) Proxy.newProxyInstance(</span><br><span class="line">        person.getClass().getClassLoader(),</span><br><span class="line">        person.getClass().getInterfaces(),</span><br><span class="line">        <span class="keyword">new</span> OwnerInvocationHandler(person)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Person person = <span class="keyword">new</span> person();</span><br><span class="line">    Person personProxy = getOwnerProxy(person);</span><br><span class="line">    personProxy.getMethod(); <span class="comment">//è¿™é‡Œè°ƒç”¨çš„å°±æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ã€‚</span></span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>##åå››.å¤åˆæ¨¡å¼</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/uncategorized/æ•°æ®åº“å¼€å‘æŠ€æœ¯" rel="prev" title="æ•°æ®åº“å¼€å‘æŠ€æœ¯">
                æ•°æ®åº“å¼€å‘æŠ€æœ¯ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="chen-jd">
          <p class="site-author-name" itemprop="name">chen-jd</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒ-è§‚å¯Ÿè€…æ¨¡å¼"><span class="nav-number">1.</span> <span class="nav-text">äºŒ.è§‚å¯Ÿè€…æ¨¡å¼</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chen-jd</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
